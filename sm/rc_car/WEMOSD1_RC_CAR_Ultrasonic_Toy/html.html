const char MAIN_page[] PROGMEM = R"=====(
<HTML>
<HEAD>
    <title>ESP8266 WiFi Car</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <TITLE>My first web page</TITLE>
    <style>
        body {text-align: center;}
        .wrapper {
          width: 360px;
          padding: 16px;
          margin: 16px auto;
          border:1px solid green;
          border-radius: 6px;
         }
         iframe {
            overflow: hidden;
            pointer-events: none;
            background-color: #F7BE81;
            color: white;
          }
          button{
            padding: 8px;
          }

        .carButton {
            width: 100;
            height: 100;
            font-size: 100px;
        }

    </style>
</HEAD>
<BODY>
<div align="center">
    <h1>ESP8266 WiFi Car</h1>
    <h2>Press "stop" after the server has been reset</h2>
    <br>

    <form method="GET">
        <!--        https://www.hackster.io/gungoryalcin68/wifi-robot-car-rc-car-nodemcu-web-server-e8c202-->
        <table>
            <tr>
                <td><p><input type="button" class="carButton" value="\" onclick="window.location.href='forward'"></p>
                <td><p><input type="button" class="carButton" value="^" onclick="window.location.href='forward'"></p>
                <td><p><input type="button" class="carButton" value="/" onclick="window.location.href='backward'"></p>
            <tr>
                <td><p><input type="button" class="carButton" value="<" onclick="window.location.href='left'"></p>
                <td><p><input type="button" class="carButton" value="O" onclick="window.location.href='stop'"></p>
                <td><p><input type="button" class="carButton" value=">" onclick="window.location.href='right'"></p>
            <tr>
                <td><p><input type="button" class="carButton" value="/" onclick="window.location.href='backward'"></p>
                <td><p><input type="button" class="carButton" value="v" onclick="window.location.href='backward'"></p>
                <td><p><input type="button" class="carButton" value="\" onclick="window.location.href='backward'"></p>
        </table>
        <br>
        <input type="button" value="Obstacle drive" onclick="window.location.href='obstacle'">
    </form>
    <br>

    <!--    장난감-->
    <p><button onclick="toyButtonOnClick()" id="toyButton" value = "0">놀아주기</button></p>
    <p><input type="range" onchange="updateSliderDelay(this)" id="toyDelaySlider" disabled="true" min="300" max="900" step="100" value="400" class="slider"></p>
    <p>딜레이: <span id="textSliderValue">400</span></p>
    <br>
    <!-- 간식주기-->
    <p><button onclick="doorButtonOnClick()" id="doorButton" value = "0">간식주기</button></p>
    <br>
<!--    고양감지-->
    <p><button onclick="detectOnClick()" id="detectButton">고양이 감지</button></p>
    <p> <span id = "textDetect">감지되지 않았습니다.</span></p>
    <script>
<!--    고양감지-->
            function readBody(xhr) {
                var data;
                if (!xhr.responseType || xhr.responseType === "text") {
                    data = xhr.responseText;
                } else if (xhr.responseType === "document") {
                    data = xhr.responseXML;
                } else {
                    data = xhr.response;
                }
                return data;
            }

          var xhtr = new XMLHttpRequest();
          function detectOnClick() {
              xhtr.open("GET", "detectButton", true);
              xhtr.send();
          }

          xhtr.onreadystatechange = function() {
              if (xhtr.readyState == 4) {
                    console.log(readBody(xhtr));
                  document.getElementById("textDetect").innerHTML = readBody(xhtr);

            }
        }

<!--          장난감-->
          function updateSliderDelay(element) {
            var sliderValue = document.getElementById("toyDelaySlider").value;
            if (sliderValue == "900")
              document.getElementById("textSliderValue").innerHTML = "랜덤";
            else
              document.getElementById("textSliderValue").innerHTML = sliderValue;
            console.log(sliderValue);
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "/slider?value="+sliderValue, true);
            xhr.send();
          }
          function toyButtonOnClick() {
            var toy = document.getElementById("toyButton");
            if ( document.getElementById("toyButton").value === "0") {
                document.getElementById("toyDelaySlider").disabled = false;
                // flagToy = "1" //이렇게 하면 값이 안바뀌네
                document.getElementById("toyButton").value = "1";
                toy.innerHTML = "멈추기"
                toy.style.background = "red"
            } else {
                document.getElementById("toyDelaySlider").disabled = true;
                document.getElementById("toyButton").value = "0";
                toy.innerHTML = "놀아주기"
                toy.style.background = "white"
            }
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "toyButton?value="+document.getElementById("toyButton").value, true);
            xhr.send();
          }
<!--          간식주기-->
          function doorButtonOnClick() {
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "doorButton", true);
            xhr.send();
          }
        </script>



</div>
</BODY>
</HTML>
)=====";